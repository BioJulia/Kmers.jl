<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Hashing · Kmers.jl</title><meta name="title" content="Hashing · Kmers.jl"/><meta property="og:title" content="Hashing · Kmers.jl"/><meta property="twitter:title" content="Hashing · Kmers.jl"/><meta name="description" content="Documentation for Kmers.jl."/><meta property="og:description" content="Documentation for Kmers.jl."/><meta property="twitter:description" content="Documentation for Kmers.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="Kmers.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">Kmers.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../kmers/">The Kmer type</a></li><li><a class="tocitem" href="../iteration/">Iteration</a></li><li><a class="tocitem" href="../translation/">Translation</a></li><li class="is-active"><a class="tocitem" href>Hashing</a><ul class="internal"><li><a class="tocitem" href="#Hashing"><span>Hashing</span></a></li></ul></li><li><a class="tocitem" href="../replacements/">K-mer replacements</a></li><li><a class="tocitem" href="../faq/">FAQ</a></li><li><span class="tocitem">Cookbook</span><ul><li><a class="tocitem" href="../minhash/">MinHash</a></li><li><a class="tocitem" href="../composition/">Kmer composition</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Hashing</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Hashing</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/BioJulia/Kmers.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/BioJulia/Kmers.jl/blob/master/docs/src/hashing.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><div class="admonition is-warning" id="Warning-9655ff38c2b21bf8"><header class="admonition-header">Warning<a class="admonition-anchor" href="#Warning-9655ff38c2b21bf8" title="Permalink"></a></header><div class="admonition-body"><p>The value of hashes are guaranteed to be reproducible for a given version of Kmers.jl and Julia, but may <strong>change</strong> in new minor versions of Julia or Kmers.jl</p></div></div><h2 id="Hashing"><a class="docs-heading-anchor" href="#Hashing">Hashing</a><a id="Hashing-1"></a><a class="docs-heading-anchor-permalink" href="#Hashing" title="Permalink"></a></h2><p>Kmers.jl implements <code>Base.hash</code>, yielding a <code>UInt</code> value:</p><pre><code class="language-julia-repl hljs">julia&gt; hash(mer&quot;UGCUGUAC&quot;r)
0xe5057d38c8907b22</code></pre><p>The implementation of <code>Base.hash</code> for kmers strikes a compromise between providing a high-quality (non-cryptographic) hash, while being reasonably fast. While hash collisions can easily be found, they are unlikely to occur at random. When kmers are of the same (or compatible) alphabets, different kmers hash to different values (not counting the occational hash collision), even when they have the same underlying bitpattern:</p><pre><code class="language-julia-repl hljs">julia&gt; using BioSequences: encoded_data

julia&gt; a = mer&quot;TAG&quot;d; b = mer&quot;AAAAAAATAG&quot;d;

julia&gt; encoded_data(a) === encoded_data(b)
true

julia&gt; hash(a) == hash(b)
false</code></pre><p>When they are of compatible alphabets, and have the same content, they hash to the same value. Currently, only DNA and RNA of the alphabets <code>DNAAlphabet</code> and <code>RNAAlphabet</code> are compatible:</p><pre><code class="language-julia-repl hljs">julia&gt; a = mer&quot;UUGU&quot;r; b = mer&quot;TTGT&quot;d;

julia&gt; a == b # equal
true

julia&gt; a === b # not egal
false

julia&gt; hash(a) === hash(b)
true</code></pre><p>For some applications, fast hashing is absolutely crucial. For these cases, Kmers.jl provides <a href="#Kmers.fx_hash"><code>fx_hash</code></a>, which trades off hash quality for speed:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kmers.fx_hash" href="#Kmers.fx_hash"><code>Kmers.fx_hash</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">fx_hash(x, [h::UInt])::UInt</code></pre><p>An implementation of <code>FxHash</code>. This hash function is extremely fast, but the hashes are of poor quality compared to Julia&#39;s default MurmurHash3. In particular:</p><ul><li>The hash function does not have a good avalanche effect, e.g. the lower bits of the result depend only on the top few bits of the input</li><li>The bitpattern zero hashes to zero</li></ul><p>However, for many applications, <code>FxHash</code> is good enough, if the cost of the higher rate of hash collisions are offset by the faster speed.</p><p>The precise hash value of a given kmer is not guaranteed to be stable across minor releases of Kmers.jl, but <em>is</em> guaranteed to be stable across minor versions of Julia.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; x = fx_hash(mer&quot;KWQLDE&quot;a);

julia&gt; y = fx_hash(mer&quot;KWQLDE&quot;a, UInt(1));

julia&gt; x isa UInt
true

julia&gt; x == y
false</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/BioJulia/Kmers.jl/blob/48f87f515b226046b3f768f8f7195b224f6c8347/src/kmer.jl#L222-L250">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../translation/">« Translation</a><a class="docs-footer-nextpage" href="../replacements/">K-mer replacements »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.11.4 on <span class="colophon-date" title="Tuesday 3 June 2025 07:24">Tuesday 3 June 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
